window.__require=function t(e,i,n){function c(o,a){if(!i[o]){if(!e[o]){var r=o.split("/");if(r=r[r.length-1],!e[r]){var h="function"==typeof __require&&__require;if(!a&&h)return h(r,!0);if(s)return s(r,!0);throw new Error("Cannot find module '"+o+"'")}o=r}var d=i[o]={exports:{}};e[o][0].call(d.exports,function(t){return c(e[o][1][t]||t)},d,d.exports,t,e,i,n)}return i[o].exports}for(var s="function"==typeof __require&&__require,o=0;o<n.length;o++)c(n[o]);return c}({explain:[function(t,e,i){"use strict";cc._RF.push(e,"f0aa18n6QtHRLqDoAQ6xahe","explain"),cc.Class({extends:cc.Component,properties:{explain_type:{type:cc.SpriteFrame,default:[]}},onLoad:function(){this.speed=200},start:function(){cc.director.getCollisionManager().enabled=!0},update:function(t){this.node.y-=this.speed*t,this.node.y<-this.c_height/2&&this.node.removeFromParent()},onCollisionEnter:function(t,e){this.node.removeFromParent();var i=cc.find("Canvas/score_bg/score_text");i.getComponent(cc.Label).string=parseInt(i.getComponent(cc.Label).string)+100}}),cc._RF.pop()},{}],game:[function(t,e,i){"use strict";cc._RF.push(e,"b556dJ9fwNE4rTyzgG1wwMp","game"),cc.Class({extends:cc.Component,properties:{player:{type:cc.Node,default:null},speedX:500,redpack:{type:cc.Prefab,default:null},air:{type:cc.Node,default:null},explain:{type:cc.Prefab,default:null}},onLoad:function(){this.air.x=-(this.node.width+this.air.width)/2},start:function(){this.scheduleOnce(this.teach_next,3)},update:function(t){this.posX>0?(this.player.x<(this.node.width-this.player.width)/2&&(this.player.x+=this.speedX*t),this.player.scaleX=1):this.posX<0&&(this.player.x>-(this.node.width-this.player.width)/2&&(this.player.x-=this.speedX*t),this.player.scaleX=-1),this.airFlag&&(this.air.x+=250*t,this.air.x>(this.node.width+this.air.width)/2&&this.air.removeFromParent())},air_controller:function(){55==parseInt(this.time.string)&&(this.airFlag=!0)},explain_controller:function(){45==parseInt(this.time.string)?cc.find("Canvas/1").active=!0:35==parseInt(this.time.string)?cc.find("Canvas/2").active=!0:25==parseInt(this.time.string)?cc.find("Canvas/3").active=!0:15==parseInt(this.time.string)&&(cc.find("Canvas/4").active=!0)},teach_next:function(){cc.find("Canvas/time_bg_light").active=!1,cc.find("Canvas/time_teach").active=!1,cc.find("Canvas/score_bg_light").active=!0,cc.find("Canvas/score_teach").active=!0,this.scheduleOnce(this.teach_people,3)},teach_people:function(){cc.find("Canvas/people_light").active=!0,cc.find("Canvas/people_teach").active=!0,cc.find("Canvas/score_bg_light").active=!1,cc.find("Canvas/score_teach").active=!1,this.scheduleOnce(this.begin_game,3)},begin_game:function(){cc.find("Canvas/people_light").active=!1,cc.find("Canvas/people_teach").active=!1,cc.find("Canvas/overlay").active=!1,cc.find("Canvas/score_bg").active=!0,cc.find("Canvas/time_bg").active=!0,this.node.on(cc.Node.EventType.TOUCH_START,this.control_player,this),this.schedule(this.make_red_package,.2+Math.random()),this.schedule(this.control_time,1)},make_red_package:function(){var t=cc.instantiate(this.redpack);this.node.addChild(t)},control_time:function(){this.time=cc.find("Canvas/time_bg/time_text").getComponent(cc.Label),this.time.string=parseInt(this.time.string)-1,this.air_controller(),this.explain_controller(),0==parseInt(this.time.string)&&(this.unschedule(this.control_time),this.unschedule(this.make_red_package),this.scheduleOnce(this.show_result,3))},control_player:function(t){var e=this.node.convertToNodeSpaceAR(cc.v2(t.getLocationX(),t.getLocationY()));this.posX=e.x},show_result:function(){cc.find("Canvas/overlay").active=!0,cc.find("Canvas/result_text").active=!0;var t=cc.find("Canvas/result_num");t.getComponent(cc.Label).string=cc.find("Canvas/score_bg/score_text").getComponent(cc.Label).string,t.active=!0,cc.find("Canvas/congratulation").active=!0,cc.find("Canvas/go_to_gift").active=!0}}),cc._RF.pop()},{}],gift_btn:[function(t,e,i){"use strict";cc._RF.push(e,"05ba8VblVlHf4gbP/o+SeKy","gift_btn"),cc.Class({extends:cc.Component,properties:{gift_node:{type:cc.Node,default:[]},gift_ori:{type:cc.SpriteFrame,default:[]},gift_light:{type:cc.SpriteFrame,default:[]}},onLoad:function(){this.node.on(cc.Node.EventType.TOUCH_START,this.get_gift,this),this.index=0,this.preIndex=7,this.counter=0,this.speed=.1,this.gift_index=0},start:function(){},get_gift:function(){this.schedule(this.gifting,this.speed)},gifting:function(){this.index++,this.index>7&&(this.index=0,this.counter++,this.unschedule(this.gifting),1==this.counter?this.speed=.2:2==this.counter?this.speed=.3:3==this.counter&&(this.speed=.4),this.schedule(this.gifting,this.speed)),this.preIndex++,this.preIndex>7&&(this.preIndex=0);var t=this.gift_node[this.index],e=this.gift_node[this.preIndex];t.getComponent(cc.Sprite).spriteFrame=this.gift_light[this.index],e.getComponent(cc.Sprite).spriteFrame=this.gift_ori[this.preIndex],3==this.counter&&this.index==this.gift_index&&(this.unschedule(this.gifting),this.scheduleOnce(this.show_result,1))},show_result:function(){cc.find("Canvas/overlay").active=!0,0==this.gift_index&&(cc.find("Canvas/no_gift").active=!0)}}),cc._RF.pop()},{}],go_to_gift:[function(t,e,i){"use strict";cc._RF.push(e,"44273PzxvxFrrsuDrjD6cn3","go_to_gift"),cc.Class({extends:cc.Component,properties:{},start:function(){this.node.on(cc.Node.EventType.TOUCH_START,this.to_gift,this)},to_gift:function(t){t.stopPropagation();var e="https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx6d4c967a36137d82&redirect_uri="+encodeURI("http://www.baidu.com/")+"&response_type=code&scope=snsapi_userinfo&state=oauth_approved#wechat_redirect";window.location.href=e}}),cc._RF.pop()},{}],leg:[function(t,e,i){"use strict";cc._RF.push(e,"e9daeyPXbJLNLBJJSTL8bm/","leg"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){var t=cc.rotateBy(.5,360),e=cc.repeatForever(t);this.node.runAction(e)},start:function(){}}),cc._RF.pop()},{}],loading_scene:[function(t,e,i){"use strict";cc._RF.push(e,"9863eGg4tZEtpxcrKtLPyzX","loading_scene"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.progress_limit=.33},start:function(){var t=this;this.bar=this.node.getComponent(cc.ProgressBar),cc.director.preloadScene("begin_scene",function(){t.progress_limit=1,t.bar.progress=.33,cc.director.preloadScene("game",function(){cc.director.loadScene("begin_scene"),t.bar.progress=1})})},update:function(t){var e=this.bar.progress;e<this.progress_limit&&(e+=10*t,this.bar.progress=e)}}),cc._RF.pop()},{}],redpack:[function(t,e,i){"use strict";cc._RF.push(e,"3aa6a4ZJVxCJbbNsec6lhqU","redpack"),cc.Class({extends:cc.Component,properties:{redpack_type:{type:cc.SpriteFrame,default:[]}},onLoad:function(){var t=Math.floor(3*Math.random());3==t&&(t=2),this.node.getComponent(cc.Sprite).spriteFrame=this.redpack_type[t],this.scale=.5+Math.random(),this.node.scaleX=this.scale,this.node.scaleY=this.scale,this.score=Math.floor(1/this.scale*10),this.speedY=(1e3*Math.random()+500)/this.scale;var e=cc.view.getVisibleSize();this.c_height=e.height,this.c_width=e.width>1200*this.c_height/1920?1200*this.c_height/1920:e.width,this.node.x=(this.c_width-this.node.width/2)*(Math.random()-.5),this.node.y=(this.c_height+this.node.height)/2},start:function(){cc.director.getCollisionManager().enabled=!0},update:function(t){var e=this;this.node.y-=this.speedY*t,this.node.y<-this.c_height/2&&(this.node.removeFromParent(),this.node.opacity=0,this.scheduleOnce(function(){e.node.removeFromParent()},10))},onCollisionEnter:function(t,e){var i=this;this.node.getComponent(cc.AudioSource).play(),this.node.opacity=0;var n=cc.find("Canvas/score_bg/score_text");n.getComponent(cc.Label).string=parseInt(n.getComponent(cc.Label).string)+this.score,this.scheduleOnce(function(){i.node.removeFromParent()},10)}}),cc._RF.pop()},{}],to_game:[function(t,e,i){"use strict";cc._RF.push(e,"18878nVavdAS6VacE2qcG6K","to_game"),cc.Class({extends:cc.Component,properties:{},start:function(){this.node.on(cc.Node.EventType.TOUCH_START,this.to_game,this)},to_game:function(){cc.director.loadScene("game")}}),cc._RF.pop()},{}]},{},["explain","game","gift_btn","go_to_gift","leg","loading_scene","redpack","to_game"]);